# Day 22

[Day 22 puzzle description.](https://adventofcode.com/2022/day/22)

Part 1 was fairly simple, and made easy using the `Grid` type from previous days.

Part 2 was much more complicated, because now I had to determine how to translate the coordinates
when you walked off the board if the board was folded into a cube. This was made harder by the fact
that the sample and real input weren't folded the same way, so that seemed to suggest a generic
solver would be needed.

I couldn't think of a good way to write an algorithm that could fold arbitrary input into a cube,
and even if I could, it was going to take more time than I'm willing to spend on these. I was loathe
to hardcode, though, because that would mean it would work on my input but not anyone else's, unless
they had the same layout as mine.

Defeated, I checked Reddit to see if anyone had a clever idea I could steal. But, even there, most
people went with hardcoding it seems. I did find out that all real inputs used the same layout, and
only the sample was different. That made hard-coding a little less bad.

I opted for a sort of middle-ground, where the layout and possible transitions are encoded in a
separate file, called `day22_cube.txt`. This way, I could create such a file both for the sample and
real puzzle input, so both would work without needing to change the code. Since everyone's real
input ahs the same layout, that file should work for everyone.

After looking at the possible transitions for the sample, you really only need to know three things,
in addition to the layout:

- What face are you on, and what direction are you going? That determines whether we need to use the
  row or column of the current position when calculating the new one.
- What face are you going to, and what direction will you be going? That determine whether we apply
  that value to the new row or column (using the min or max value for the other, depending on
  direction).
- Do we use the source row/column as is, or do we count from the end of the new edge?

So the `day22_cube.txt` format is as follows:

The first line contains the size of edge of the cube.
The second line contains a semi-colon separated list of each face, using their `col,row` format.
This ignores the size of each face, so `0,0` is the first possible location, `1,0` is the second,
etc.

Numbering the faces 1 through 6 in the order used above, each remaining line specifies each pair of
edges and how to transition. You only need to list edge pairs that aren't continuous on the board.
An edge is designated by its face number and a letter denoting if it is the top, right, bottom, or
left edge. Then, a boolean to indicate whether the coordinate will be reversed.

Since transitions are symmetrical, you only need to list each pair once (the inverse is assumed).

So the line `2T,6B,false` means that if you go up from the top of face 2, you end up on the bottom
of face 6 (and because it's the bottom, you'll still be going up). The column will be used as-is,
without reversing it. It also means that if you go down from face 6, you end up at the top of face
2 (still going down).

With this, I was able to get the sample input test to pass, and got the correct answer for the real
input as well.

Probably the most effort one of these has required so far.

## Part 1 output

This is the path taken for part 1. It leads to the answer 117102.

```text
                                                  <^<<<^<<v^#..#^<<<<<<<>v^v^>v>v>^>>v#...^.....#^<vv<v<<<v<<<#>>v#..^v#.#^...#.v.....^.#.#v^<<<<v<<<<
                                                  >^>^>^>>v##.#......#.^.v^>^#v.v.^..v>>v#^...#v<<<<v.>>>>>>>>v##v..#^v#..^<<<>>>>>>>>>>>>>v^#>>>v>>>>
                                                  .^#^<^<<v<>>>>>>>>>>>>>>v#.#v<v.^..v^.v.^....v...#v.#...v#.#v<<v...^v#..##..^#>v#...^....v..#..v....
                                                  .^...^..v.^....#>>>>>v>vv>>>>>v>^>vv^.v.^....v....v.#...v...v.^v..#^v..>>>>>^>>v....^....v.....v....
                                                  .^...^..v.^.#...#...#v.vv^..v.v.^#vv^.v.^...#v....v..#..v...v#^v#..^v.#^....^..v....^....v.#...v....
                                                  v^<<<^<<v<^<>>>>>>>>>>>>v>>>>>v>^>>>>>>>^#...v.#..v.....v...v.^v..#^v..^###.^#.v....^....v#....v.##.
                                                  >^>>>^##v.^.^...^..##vv<v>>>>>>>^>>>>>>v#..#.v....v....#v#..v#^v<<<^<<<<<<<#v<<<>>>>^#...v...#v>>>>>
                                                  #^.###v>>>^>>>>>>>>>>>>>v^>>>>>>^>>>>>>v>>>>>>>>>>>>>>v.v>>>>>>>>>>>>>>>>>>>>>v#.#v<<<#..v....v#....
                                                  .^#.#v<^v.^.^v..^...#v<<v^<<v<v.^#v#^.vv.....>v#..v...v.v...^^#v...^vv.^..^.#vv<<<v..^..#v.#..v.#...
                                                  .#...v#^v#^<<<<<<<<<<<#.v^.#v.v#^<<<<<<<......v...v...>>>>v#^>>>>>>^>>>>>>>>>>v>>>v>>^#..v....v.....
                                                  #.#..v.^v.v#^v..^....#..v^<<<<v<.^#.^.v#.....#v..#v.#...v#v.#^^vv..vvv.#.#^<<<v<<<<<<v<..v....v.....
                                                  ....#v.^>>v>^v>>^>>>>>>>v^>>v#v^#^<<^<v<<<<<<<v<<<<#....>>v>>^^v>>>v>v>>>>>>>vv>>^#..v^..v..#.v...#.
                                                  >>>>>v>^##v<^v..^#.#....>^##v#v<<<<<<<<<<<<<<<<..##.....#.v.^^^vv..vvv.#.^v#^>v##v<..v^..v.#>>v<<<<>
                                                  #....v.^>>>>^v>>v#.#....##..v#v^.#..^.v..#....#........#..v#^^^v<<<<<<<<<<<<^#>>>>>>>>>>>vv#^.v...^.
                                                  ...#.v#^<<<<^<<<<<.#........v>>>v##.^.v.#....#.....#...>>>v>^^^vv>v#vv...^#^..#..v^.#v^..vv.^.v...^.
                                                  >>>>>>>>>>>>^v>^#^<<<<<<<<<<<<<<<<<#^.v#..........#....^.#v#^^^vv<<<<v<<#^<^<<<>>>>>>>>>>>>>>>>>>>>>
                                                  .#...v.v^.v^^v............#.#^<v#...#.v................^..v.#^<<v###vv.#v<<^<<<^<<^.##^..vv.^.v...^.
                                                  >>>>>v>v^>v>^v#........#.....v#v<<<<<#v....#...#....#..^..v...^.v...vv.#v..^#.#^<<<<<<<<<<<<<<<>>>^>
                                                  >^#..v.v^.v^^v#.#...##.#...#.v#v....^#v..#..#..#......v^<<v<<<^<v<<<v<<<<<<^<<<<<<<<^<<<#vv.^.>>>>^>
                                                  ....#v.v^.v^^v.........v#v<>>>>>>>>>v.v#.#............v^..v..#v<<<<<<v.^#..^.#.#.v^.^.^#.vv.^.#...^#
                                                  <<<<<v<<^<<^^v...#v<<<<v<v<^<v<v<<<<v<v<<<<<<<<<<<<<<<<^..v.#.v.v.#.#v.^#v<^<>>>>>>>^#^<<<v.^..#v<^<
                                                  #...#v.v^..^^v##..v....v.v.^.v.v..#.v.v#..............#^..>>>>>>>v#..v.^.v#^<^>>>v^#.....#>>^...v#^.
                                                  >>>>>v>>^#.^^v#.#.v....v.v#^<<<<.#..v.v..............#.^....#.v#vv<<<v<^<<#^#^<<<<<<<<<>>>>>>>>>>>^>
                                                  ^....v.v^#.^^<<##v<<<<<v<<.#.#.#....v.v....#.........##^#v<<<.v.vv..#v.^...^.^...v.....^..#.....v.^.
                                                  ^....v.v^.#^<v.#.vv.#..v.#..........v.v................^#v..^.v#vv...v#^..#^.^#..v....#^........v.^.
                                                  ^....v.v^....v...vv....v...#........v.v........#....#..^.v..^#v<<v...>>^>>>v#^##.v.....^........v.^.
                                                  ^....v.v^....v##.vv..#v<<<<<........v#v...#......#.....^.v#.^.v..v.....^#..v#^<<<<#....^........v.^#
                                                  ^....v#v^<<<<v<<.vv...vv#.#^.#....#.v.v.#.###....###...^.v..^.v..v...#.^..#v.....#.##..^#.....>>>>^#
                                                  ^....v#v^....v.^.vv..#v<<<<<<<.....#v.v...v<<<<<<>>>>>>>>v>>^>>>>v>>>>>>>>>>>>>>>>>>>>>^>>v##.^.v...
                                                  ^.##.v>v^#...v.^.vv..#vv#..^#^...#.#v<<...v.^....^.^.#.^.v#.^.v..v....#^#..v.....#...#.^#.v#..^.v...
                                                  ^....v.vv#...v.^.>>>>>vvv#.^.^....#.v.#...>>>>>>>^.^...^.v..^.v..v.....^.#.v...........^..v.#.^.v.##
                                                  ^....v.vv..#.v.^.#v...vvv..^.^#.....v.....#.^......^...^.v..^<<<<<...#.^..#v.....#.....^..v...^.v...
                                                  ^#.#.v#vv....v.^..v...vvv..^#^<<<<<<<#.#...#^..#..#^...^.v....v..#.....^..#v<<<<<<.....^..v...^.v>>>
                                                  .....v#vv....v#^.#v...vvv..^.....#..#>>>>>>>^>>>>>>^>v#^.v....v.......#^<<<v#....^.....^..v...^.v.#.
                                                  .....v.>>v#..v.^.>>>>>vvv>>^>>>>>>>>>>>>>>>>>>>>>>>^#v.^#v...#v........^#.^v##...^.....^.#v..#^.v...
                                                  .#.#.v.#>v>>>v>^>^v>>>vvv>>^>>>>>>>>>^.#....^.#...##.v#^>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>v<<.#.^.v...
                                                  ...##>>v#v...v#^.^v...vvv##^.#........#.....^...#....v.#^v....v...v....^.#^v.#v<<<<<<..^>v#v<.^.v...
                                                  .....##v.v.#.v#^<^<...vvv..^.......#........^.#......v.#^<..#v>>>>v>>v#^..^v..v....#^..^#v.v^#^.v..#
                                                  ....##>v>>>>>>>>>v##..vvv..^##..............^.#>>>>>>>>>v#.#.v#...v..v.#..^v..v.....^..^.v#v^.^.v...
                                                  <<<<<<<<<v<<<v<<<v<<<<vvv<<^<<......#.....##^<<^<<<<<<..v....v.#..v.#v####^<..v#.###^..^#v.v^#^<<<<<
                                                  ......^.#v.^.v.#.v#...vvv..^.^.###.......#.....^....#^<<v<<<<<<<..v..v.....#..v.#..#^..^.v.v^>v>v#..
                                                  ......^..v.^.>>>>v>>>>vvv>>^#^...>v#.##........^...#.v..v....v.^..v..v#....#..v.....^.#^<v<<<<<<<...
                                                  #....#^<<<.^.v...v....vvv..^.^.#.^v>>>>>>>>>>>>>>>>v#v..v#...v.^..v..v..#.....v.....^....v.v^^v##...
                                                  ...#..#.##.^.v...v.#..vvv.#^.^...^v^..^.......#^.v.v.v#.v....v.^.#v..v.##...#.v.....^....v.v^^v#....
                                                  >>v##.#....^.v...v....>>>>>>>>>>>>>^#.^.#.....#^.v#>vv.#v.#..v.^#.v..v..#.#...v#.#..^....v.>>>>>>>>>
                                                  <<v<<<>>>>>v#v...v...##>>>>^>>>>>>>>>>^>>>v#...^.v.vvv..v....v.^..v..v........v.....^....v.#^<<<<<<<
                                                  ##v...^.#..v#>>>>>>>>>v##..^.^...^v...^^..v....^.v.vvv..v....v.^..v.#v#.#.....v.....^....v.#v<<..#.#
                                                  <<<...^....v.^..#v<<<<v>>>>^#^.#.^v..#^<<<<<<<<<<<#vvv..v.#..v.^..v.v>>>>>>>v#v.....^...#v..v^#v<<<<
                                                  ....#.^....>>^#v<v#...v^.#.v.^..#>>>>>>^#.v....^.#v<v>>>v>>v#v<<<<<.v#.#^..#v.v.#...^#.##v.#v^.v...#
                                                  >>v#>>^v<<<<<<<<<<<>>>v^>>>v>>>>v#v..^#...v....^..v#v#..v..v.v.^.##>>>>>>>>>>>>>>>>>>>>>>v>>>>>v>>>>
                                                  ..v...^v...vv#^v.v#...v^...v.^..v.v..^.#..v#...^..                                                  
                                                  <<<<<<^v<<<<<<^<<<<>>>v^>>>v>>>>>>>>>^#v<<v<<<<<<<                                                  
                                                  ..v.#.^v..#vv<^<.v^...v^...v.^..v#v....v.#v....^..                                                  
                                                  ..v...^v..>>>>>>>>>>>>>^<<<<<<<<<<v....v..v....^..                                                  
                                                  .#v...^v...vv#^<<<^...v^...v^^.#v^<<<<<<..v....^..                                                  
                                                  ..v..#^<<<<<<<<<<<<<<<v<<<<<^<<<v^v#.###.#v#...^..                                                  
                                                  ..v....v...v#.^..v^.##v^...v^^.^v^v.....#.v....^..                                                  
                                                  ..v#..#v...v..^v<<^<<<v^...v^^.^v^v.......v....^..                                                  
                                                  <<v<...v...v..^v.v^..^v^..#v^^.^v^v....#..vv<<<^<<                                                  
                                                  <<<<<<<<<<<<<<<<<<<<<<<^>>>v^>>^v^v.....#.vv#.#v<<                                                  
                                                  ..#^...v.#.>>>^v>>^>>^#^<<<v^<<^v^v<<<<<<<v<<<<v..                                                  
                                                  ...^...v...#..^v.v^..^.^..#v^<#^v^v....#..vv..^v..                                                  
                                                  <<<<<#.v...>>>>>>>>>>>>>>>>>^^>^v^v>>>>>>>v>>>^v<<                                                  
                                                  <<<^#v<v<<<^<<^<<<<<<<<<<<<v<<<^<^>>>>>>v<v<<<<v<<                                                  
                                                  ..#^<>>v>>>^>>^>>>^#.^#^.#v<>>>^#^v#....v.vv..#v#.                                                  
                                                  .....v.v..#^.v.v.##..^.^.>v#.^.^.^v#....v.vv..#v..                                                  
                                                  <<<<<<<v<<<^<v<v<<<..^#v<<<<<<<^<^<<<<<<<<v<<<<v<<                                                  
                                                  .....v.v#..^.v.v..^..^#v..v^.^#^<<<<<<<<<<<#...v..                                                  
                                                  .#...v.v...^.v.v..^.#^<v..v^#^...^......v.v..##v..                                                  
                                                  .#...v.>>>>^.v.v..^..^.v..>^#^<<<^<<<<<<v<>v<<#v..                                                  
                                                  .....v##..#^.v.v..^..^.v.#...^...^......v..v.^.v#.                                                  
                                                  #...#v.....^.v#v..^..^.v..#.#^.#.^.....#v..v.^.v..                                                  
                                                  >>>>>>>>v#.^.v.v.#^<<^.v.....^...^..#..>>>>>>>>>>>                                                  
                                                  >>>>>v#.v..^.v.v...#v<<<<<<<<<<<<<<<<<<^<<<<>>>v>>                                                  
                                                  #v<<<<<<<..^#v.v....v^.v.....^...^v.^..^v..#.^.v..                                                  
                                                  >>>>>>>>>>>^>>>>>>>>vv#v<<<<<^<<<^<.^..^v#.>>>>>>>                                                  
                                                  .v.#.v..v..^.v.v#..#vv#v#....^...^#.^..^vv#^.^.#..                                                  
                                                  .v#..v..v..^.v.v..#vvv<vv#...^...^..^..^vv.^#^....                                                  
                                                  <<#..v..v.#^.v.v...v>>>>v##..^###^..^..^vv#^<<<<<<                                                  
                                                  .#...v..v..^#v<v<<<<#>>>v>>>>>>>>>>>^#.^vv.#.^....                                                  
                                                  <<...v#.v.#^<<<<#..#.##vv....^v<<<<<<<<^<<<<<<<<<<                                                  
                                                  .^...v.#v#.^.v##.......v>>>>>>>>>>>>>>>>>v#..^#..#                                                  
                                                  #^<<<<<<<..^#>>>>>>>>>>v#....^v.#^...#v^<v<..^.##.                                                  
                                                  .v.##v.^#..^.#......#..v....#^>>>>>>>>>^<v^.#^....                                                  
                                                  #v...v.^...^.#.........v......#.#v<<<<v^#>>>>v##..                                                  
                                                  .v...v.^..#^.........#.v#.....#..v.#.^v#.#^..v.#..                                                  
                                                  .v...v.^...^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<....                                                  
                                                  .v...v.^...v.......#...v........#v<<<^<...^..#..#.                                                  
                                                  .>>>>v#^.#.v...........v.....#...v#..^##..^#......                                                  
                                                  .#..#v.^...v.#....#....v.........v.#.^.##.^.......                                                  
                                                  <<<<<v<^<<<v<<......#..v.....#.#vv<<<^<<<<^<<<<<<<                                                  
                                                  ..#..v.^...v#^.......#.v....#...>v>>>^>>>>^.......                                                  
                                                  ..#..v.^<<<v<<<<<<<<<<<<....#.#.#v...^...##.......                                                  
                                                  ..#..v.^...v.^.....#.#...#.v<..#.v...^.....#...#..                                                  
                                                  <<<>>v>^...v.^...v<<<<##...v^....v#.#^<<<<<<<<<<<<                                                  
                                                  #.^..v.^##.v.^#..v#^#..>>v#v^....v..>>>>>>>>>>>>>v                                                  
                                                  >>>>>v#^.>>v>^#v<<<<<<<<<<>v^#...v..^..........#^>                                                  
                                                  ..^#.v.^.^.v...v#v.^...^.#^v.....v..^.#......#..^#                                                  
                                                  ..^..v.^.^#v.#v<.v.^.#.^.#^v...#.v.#^.#..#...#..^.                                                  
                                                  .#^<<v.^.^.v.#v#.v.^...^..^v#...#v<<^<<<<<......^.                                                  
<<<<<<<<<v<<..##........#...#.v^...^v^....^#.^^..^..^.#>>^>>>>>>>>>>>>>>>>>v<<<<<<<>>>^#^<<<<<<<<<<<                                                  
v........v.^..#>>>>>>>v<<>>>>>v>>>>^>^>>>>^>>^v##v<<<<<v#^<<<<<<<<<<<<<<<<<<>>>>>>v#..#....^......^.                                                  
v.#......v.^...v......v.^#..^.v^...^v^....^..^v.#v..^.^>v#.^..#.v..v.^.....#^v<<<<v<<<<....^.#...#^.                                                  
v........v.^...v..#..#v#v<>>^#>v#..^v^.#..^..^v.>v>>^>^#v<<<<<<<<..v.^.......v#..#v#..^..#.^......^.                                                  
v...#....v.^...v.#....v.v^<<..#v>>>^>^>>>>^>>^v>^v>>^>^>v^>>>>vv#v<<<^<<<<<<<<>v#.v...^..>>^>>>>>>v#                                                  
v........v.^...v......v.v^#^<<<v<<<^<^<<<<^<<^<.^v..^.^.v^#v<<vv<v.#.^...#..#v^v..v...^..^.^......v#                                                  
v......#.v.^..#v<<<<<<v<v^>>>>>v>v#^v^..#.^..^#.^v..^#^<<<<<<<<<<<#v<<<<<>>>>>>>>>>>>>>>>>>v#.....v.                                                  
v........v.^...v...#..v.v^^....>>>>>>>>>>>^#v^<<<>>>>>>>>>>>>>v>^#v<<<<<<^<<<<<#..v#.#v<<<<<......v.                                                  
v.....#..v.^.#.v......v.>>^###.^^v<^<^<<<<<>>^..^#.#>^^>>>>>>>v>>>v##v<<<<....#...v...v..^.#......v.                                                  
v.....#..v.^#..v......v.#^<<<<<<#v.^v^.#...^v...^...#^^<<^v<<<v<..v.#v..#^.#...#..v...v..^.....#..v.                                                  
>>>>>>>>>v#^<.#v##....v..#^^.^.#>>>^>^#....^v...^....^^..#vv..v#..v..v...^..#.....v...v..^.....>>>>>                                                  
v<<<<<<<<v<#^..v#...#.v.#.^^.^.>v#.^v#>>>v#^<..#^....^^..#v<<<<...v..v...^<<<....#v...v.#v<<<<<^<<<<                                                  
v......^.v..^..>>>>>>>v>>>>v#^#v<<.^v.^..v.^#...^#>v#^^#..v>>>>v#vv<<v<..^..^.....v#..v..v##...^#.#.                                                  
v......^.v..^..#....^.v.^.^v.^.vv^#^<<^<<v<<<<<<^<<<<^^<<<v<<<<<<<v>vv^..^..^.....v...v..v..###^....                                                  
v.....#^.v.#^.#v....^#>>^>>v>^#vv^<<<.^..v#.....^#^v#^^.#.v#..v#^#v.vv>>>^>>>>>>>>v#..v..v#....^....                                                  
>>>>>>>>>v>>^>>v>>>>v#..^.^v...vv^..##^..v#.....^.^v.^^..#v##.v.^#v.vv^..^<<^<<<<<>>>>>>>>>>>>>^>>>>                                                  
v.....^^#v.....v...^v.##<<<<<<<<<<<<<<<<<<<.....^#^>>^^>>>v>v#v.^.v.vv^##^.......#####v#.v##...^#...                                                  
v.#...^^.>>>>>>v##.^v..>^#^v<<<v<^>>>>^>vv^.....^.##.^^<<<v<v<<<<<v<<v^<<^<<<<<<<<<<..v.#v.....^#...                                                  
v.#...^^#^#.#..v...^v..^.>>>v#.v#^.#..^.vv^..#.#^#...^^...v.v#v#^.v.vv^#.^.#....#^^^<<v<<<...#.^..#.                                                  
v..#..^^.^....#v#..^v#.^.^vvv..v#^<<..^.vv^.....^>>>>^^>>>v>>>>>>>v>>v^>>^#......v^^..v#^#v..#.^....                                                  
v.....^^.^.....v..#^v>>^>^>v>>>>>>>>>>^#v>^#.#..^^.#.^^.##v.v#.^^.v#vv^..^.#.....v^^..v.^#v<<<.^....                                                  
<.....^^.^..##.v...^v^.^.^>v#..v.##^..v.v.#>>>>>>>>>>>^#v<<<<<.^^.v.vv^..^.......v^^<<v<<<v<<^<^<<<<                                                  
<<<<##^^.^.....v...^v^.^.^#v<#v<<<<<<<v<<<<<#...^^.^#v<<v>>>>^>>>>>>>v>>>^#..#...v^..#v.^v<<<<<^<<<<                                                  
>>^#..^^.^..##.v...^v^.^#^<<^<>>>>>>>>v<<.^#>>>>^^#^<v<^v>v>>^.^^.v.#>>>>>>>>>>>>>>>>>>>>v>>>>>^>>>>                                                  
<<<<<<<<<^<<<<>>>>>>>^#^.v.>^##v...^..v.#.^.....^....v#^<<<<<<<<<<<<<#^..v....#..v^#..>>>vv>>^#^<<<<                                                  
>>>>>>>^#^...^.#..v^v..^.v.#^..v...^..v...^.....^..##v.v#.#.v^#^^.v#^<<<<<<<<<<..v^.#>>>^vv<<<<.....                                                  
..#..#^..^...^....v^v#.^.v.#^..v.#.^..v..#^<<<<<<<<<.v.v#v<>v^>^^.v.#.^..>>v#.^..>^>v#.#.vv..^^#....                                                  
......^#.^.#.^....>^v>>^>>>>>>>>>>>>>>v>>v#.....^.#v<v<v<v^>>^>>>>>>>>^#...v..^..#^<<<>v#vv..^^..#..                                                  
>>>>>>^..^.>>^#...#v<^<^<<<<<#.v#.#^#.v..v......^.>v>v>v^v^>>^>>>>v#.....>>>>>^##>>>>^>>>vv>>>^>>>>>                                                  
.........^#^<>>v##.v#^.^.v..#..v.#.^..v..v#.....^.^v#v.v^v^.v^.^..v..#...^#v......v.#^.v.vv#.^^.....                                                  
#...#....^#^#^<>v#.v.^.^.v...#vv<<<^<#v..v...#v<^<<v<v.v^v^#>^>>>>v>v#...^.v......v#.^.v.vv..^^.....                                                  
.#v<<<<<<^<^>>^#v<<v<^<^<<....vv...^^.v#.v....v.^..v.v.v^v^.#^.^..v.v....^.v......v..^.v.vv..^^..#..                                                  
..v.....#^^^...#>>>>>^>^>>>>>>>>>>>>>>v>>v>>>>>>>>>v.v.v^v^#.^#v<<<<<<<<<^<<.....#v..^.v.vv..^^.....                                                  
..v.#....^^^.#..#.#^.^.^.^v...vv...^^.v..v....v.^..v.v.>>>>v#^.v..v.v..^.^.#......>>>^>v.vv..^^.....                                                  
>>>>v#..#^^^.......^.^#^.^v..v<<.##^^.v.#v..#.v.^..v.v.#^v^>>>>>>>>>>>>>>^#.......#.#^<>>>>>>>>>>>>>                                                  
..v.v....#^^<<<<<<<<<<<^<<<<<<<<<<<<<<<<<<<<<>>>v#.v.v.>^v^#.^.v#vv#>>>^v#........>>>^v#..v#v<<<<...                                                  
>>v>v>>>>>^#..#....^.^^..^v..vv#...^^.v.^vv#^.v.v..v#v<<^>>>>^#v.vv.#..^v....##.#.^..^v#..v>v^^>^>>>                                                  
v#v.v..##.^...#....^#^<<<<<<<<<<#.#v<<<<^v<>^>>>>>>v>v>>^#^<<<<<<<<<<<<<<<<<<<<>v#^<<^v<<<>>v>>>^>>>                                                  
v.v.v.##..^#.#>>>>>^#v^<<<<<<<<^>v#v^.#.^vv^^.###..v.v.^v.#^.v.v##v..#.^v.....^.v....^v.#.#^v^^<^..#                                                  
<<<<<<<#..#v<<<v<<<<<<<<<<<<<<<^<<<>>>>>>>>>^#v<<.#v.v#^>>>^#v<<<<<<<<<<<<<<<<^<<<<<<<<<<<<<<>^#v<<<                                                  
v#v.#.^....v..^v#..^.v^..^...v#^<<^#^<<<^v<^<.v.^..v.v.^#.^^#v.v..v#.^.^#.#...^.v...#^<....^#...v..^                                                  
>>>>>>^#...v..^v#.#^#v^.#^...v.^.#^...#.^vv^#.v#v<<v<v<<<<<<<<#>>>v#.^.^......^.v...#^^<<<<^<<<<>>>v                                                  
<.v.^.v>>>>v#.^v...^<<^>>>>>>v>^>v^#v<<<^<<<<<<<<<<<.v.^..^^.#.#.#v..^.^......^.v.....^....^...##^<v                                                  
<<v<^<v<<<<v<<^v#..#.v^.#^...v.^.>>>>>>>^>>v#.v.v..^.v.^.v<^..#.#.v..^.^......^.v.....^...#^<<<<<^<v                                                  
..v.^.v....v#.^>>>>v.v^..^...v.^#^<<<#..^#vv#.v.>>>^#v<<<<<^<<<<<<<>>>>^>>>>>>^>v#>>>>>>>>>>>>>>>^#v                                                  
..v.^.v>>>>v>>^#...v#v^..^.#.v.^.v^.#..#^<<v<<v<<<<^<v.^.v^^....^.#..^.^....#.^.v##...^##.#......#.v                                                  
#.v.^#>>>>>>>>>>>>>v>>^>>>>>v<<^<<<<<<<>^<<<<<<<<<<<<<>^>>v^>>>>^>>>>^#^..#..#^<<<<<<<<<<<<<<<<#.>>v                                                  
.#v.^.#....v...^...v.v^.#.>>>>>^##^..#v^<^<vv#.....^^##^#vv^.#..^......^..>v#.v.v.^...^...^...#..^.v                                                  
..v.^....#.v#..^.#.>>>>>>>^#v#v<<#^...>^>^#vv....#.^^#.^.vv^....^..##.#^<<<<<.v.v.^...^#..^......^.v                                                  
.#v.^.#.#..v...^...#.v^...#.v#v^^.^...#^<<<<v>>>>>>^v#.^.vv^....^......##v^v^#v.v.^.##^.#.^...#..^.v                                                  
#.v.^...#..v...^.....v^...>>>>v>^#^....#v^##v.#..^                                                                                                    
>>>>^#.....v.#.^.#...v^#..^.v.v^..#....>>>>>>>>>>>                                                                                                    
..#........v..#^..#..v^...^#v.v^..>>>>>^>^v#v.^v.^                                                                                                    
v#.#.......v#..^..>>>>^>>>^>v>v^..^....^#^<>v>>>>^                                                                                                    
<<<<<##v<<<>>>>>>>>>>v^...^.v.>>v.^.#..^>v#.v.^v#v                                                                                                    
>>>^##.v#..#^<<<<<^v<<^...^.v..^v.^.>v#^<<<>v#^v>v                                                                                                    
#......v..........^v##^..#^<<<<<v<<.^v..^v^.v##v^v                                                                                                    
.......v..........^>v#^#..#.v..^v.^.^v>>^v^>>v#>^v                                                                                                    
.......v......#..#^#v.^.#...v.#^v.^.^>^#^<^.^v##^v                                                                                                    
....#v<<...#v<<<<<v<<<^<<<<<<<<<<.^.^##..#^<<<<<^v                                                                                                    
.....v.#....v.....v.#.^.##..v..^#.^.^#>>>>>>^##^^v                                                                                                    
>>>>>>v##v<<<.....>>>>^#....v..^..^.^.^.#^v#^<>>>>                                                                                                    
<<<<<<<>>v#.#.#...^.......#.v.#^..^.^.^#.^v.#^<<<<                                                                                                    
.....v#^<v<....###^<<<<<<<<.>>>>>>^>>v#..^v.#>>>^#                                                                                                    
.....v..^v^....>>>>>>>>>>>^#..#^.#^<<<<<<<<<<#^<<<                                                                                                    
#.#..v..^v^....^..#....###..##v^<<^#^#...^#.v>^>>^                                                                                                    
<<<..v..^v^....^<<<<<<<<#v<<<<v^<^<<<<<<<<<#v^^#v^                                                                                                    
#.^..v..^v^.....#.^#.....v....v^.^..^....^^.v^#>v^                                                                                                    
.#^..v.#^v^.......^.#....v....v^.^..^....^^.v^.^v^                                                                                                    
<<^<<<<<<>>>>>v##.^...#..v....v^#^<<<<<<<<<<<^<^v^                                                                                                    
<<<<<<<>^#^...v...^...>>>>>>>>>^#^<<<<<<<<<<<<<<<<                                                                                                    
..^#.v^...^.#.v...^..#^<<<<<<<<^.v..^...#.^##^<<<^                                                                                                    
..^.>>^>>>^#v<<...^......v.....^.>>>^#....^....^^^                                                                                                    
..^.^v^.....v.#...^......v.....^.#.......#^....^^^                                                                                                    
.#^<<<^<<<<<v<<<<<<<<<<<<<<<<<<^#.#.#.....^....^^^                                                                                                    
..#.^v^.#...>>>>>>>>v#..#v.....#.....#....^....^^^                                                                                                    
...#^v^#....#.....^.v.##.v.........#......^....^^^                                                                                                    
..##^v^...........^.v....v.....#....##....^.#..^^^                                                                                                    
....^v^.........#.^.v....v.....>>v#..>>>>>^v##.^^^                                                                                                    
....^v^#....#.....^.v..##v##..#^.v...^....^v...^^^                                                                                                    
...#^<^<<<<<<#....^.v.#..v.....^.v...^....^v...^^^                                                                                                    
...#^v^...##^...#.^.v#..#v..#..^.v#..^....^v...^^^                                                                                                    
....^>^>>>>>^#....^.v#...v.....^.v...^...#^v...^^^                                                                                                    
##..^#^...........^.v>>v#v.....^#>>>>>>>>>^<<<<<^^                                                                                                    
....^.^.......#..#^<v<<<<<.....^.#..#^....^v...^^#                                                                                                    
>v#.^.^..#........#.v..v.##....^.....^....^v.>>>>>                                                                                                    
<v<<<<^<<v##...#....v##>>>>>>>>^#..#.^#v<<^<<^<<^<                                                                                                    
.>>>>>^#.v.....#....v..#...#v<<<<<<<<<<v..^#.^..^.                                                                                                    
.#..^#...v....#>>>>>v>>>>>>>v>>>>>v#.^^v..^>>^>>^#                                                                                                    
....#.#..v....#^...#v...#.#.v.#..#>>>^^v>>^^>^>>v#                                                                                                    
#......##v...#>>>>>>>>>>>>>>>>v#..##.^^v..^^.^.#v<                                                                                                    
.........v.#...^....>>>>>>v#v.v......^^v..^^.^..v^                                                                                                    
<#.......v#....^#...^.....v.v.v..##..^^>>>^^v^<<v<                                                                                                    
#.......#v....#^.#.#^.....v.v.v....##.^#.#^^v^..v^                                                                                                    
v##....#.v.....^...#^<<<<<>>>>v>>>>>>>>>>>^^>^>>>>                                                                                                    
v..#.#.>>v>>>>>^#......#...#v#v....^^.^..^^^v^#.#^                                                                                                    
v>>>>>>^#v..................v.v.#.#^^<^<<<^^<^<>>^                                                                                                    
v........v...#.....#........v.v.>>>^^#^..^^^v^^..^                                                                                                    
v........v.........##.......v.v#^<<^<<#.#^^^<^^.#^                                                                                                    
v...#.#..v##.#...........#..>>v>>>>^>^#...^^#^^..^                                                                                                    
```

## Part 2 output

This is the path taken for part 2. It leads to the answer 135297.

```text
                                                  >>>>v^<v<<#..#v<<<<<<<<v^<<<^...^..^#^.>>>>>>^#.^<<<<<<.....#.>v#^..v#^#....#.^.v.v..^#^#^....>v...v
                                                  ....v^.v.##.#.v.v.^#...v^>v#^...^..^.^.#....#v..^>>>>>>>>>>>v##v.^#.v#^<......^.>>>>>^.^.^.#..^v...v
                                                  ..#.v^.v..>>>>v>>>>>>>>v^#v#^...^..^.^.......v..^#.^#v^..#.#v<>>>>>>v#.^##...#^.#.v....^.^..#.^v...v
                                                  ....v^.v..^...v#>>^>>>>v>>>>>>>>>>>>>^>>>>>>>v>>^>>^#>^.....v>^>>v#.v..^......^...v....^.^....^v...v
                                                  ....v^.v..^.#.v.#.^.#..v..v.^...^#...^......#v..^..^.#......v#^.#v..v.#^......^...v....^.^.#..^v...v
                                                  ....v^.>v.^...v...^....v..v.^...^....^...#...v.#^<<<<<......v.^..v#vv<>^###..#^...v....^.^#...^v.##v
                                                  ....>^##v.^...v...^##..v..v.^...^....^..#..#.v..^..^.^.#.#..v#^<<<<vv.^...v#..^...v..#.^.^...#v<<<<v
                                                  #..###>>>>^>>>v>>>^>>>>>>>>>>>>>>>>>>>>>>>>>>>>>^>>>>^>>>>>>v>>>>v^>v>^>>>>>>>^#.#v...#^.^....v#...v
                                                  ..#.#>>>>>>>>>>>>>>v#..v..v.^...^#.#.^.......v.#^..^..^.v...v.#..v^vv.^...v.#.....v....^#^.#..v.#..v
                                                  .#...^#.v#^<<<v<<<^v<<#v..v#^..#^<<>>>>>>>>>>>>>^>>>>>>>>>v#>>>>>>^>v>^>>>>>>>>>>>>>>v#v<<<<<<<<<<<<
                                                  #.#..^..v..#..>v>>^v^#>>>>>>>>>>>v#^.^.#.....#..^#.^#.^.v#v.#....v^vv.^#.#v<<<<<<<<<<v<v.^....v....v
                                                  <<<v#^<<<<<<<<v<<<<<<<^v<<<>^#..#v.^.^..........^..#v<<<<<v<<>>>>>^<v<^<<>>>>>>>>v#..v^v.^..#.v...#v
                                                  ..^v.^..##....vv.#^#..^v..##.#v<>>>^>^>>>>>>>>>>^##.v.^.#^<<<<<<<<^<v<^#.^v#^..##v...v^v.^.#>>v>>>>v
                                                  #.^>>>>>>>>>>>v>v#^#..^v##...#v.^#...^...#....#.^...v.^#..v#v<<<<<<<<<^>>^>>v#...v...v^v.^.#..v...^v
                                                  ..^#.^#v<<<<<<vv>>^#v<^v<<>>>>>>^##..^..#....#..^..#v.^>>>>>v>>>>>^#v^^^.^#.v.#..v..#v^v.^....v...^v
                                                  ..^>>^>v^>>>>>vv#v^<v.^v^^<<<^<<<..#.^.#........^.#.v.^^.#v#>>>>>>>>>>>^#^<<v<<<<v<<<<^v.^....v...^v
                                                  .#^<<<<<<<<<<<<<<<<<<<<>>v#.#^<.#...#^<<<<<<<<<<^v<<<<<<<<<<#.^v.###v^^#>^>>>>>>>v>v##vv.^....v...^v
                                                  ...^.^>v^>>>>v#v.v^^>>^#^v...^#v<<<<v#.....#...#^v..#..^..v^>>^>>>>>>^^#.^..#.#.>>>>>>>>>>>>>>>>>>>>
                                                  ..#^.^.v^....v#v#v^^##^#^v.#.^#v....v#...#..#..#^v<<<<<^<<v^<<<<<<^<v^<<<^<<<<<<^v<v<<<<#^<<<<>>>>>>
                                                  ...^#^<<<<<<<<<<<>>>>>^v#v.>>^.v....v..#.#......^v..^..^v.v^.#^<<<^<<^<^#^.>^#^#^<.v^.v#.v...^#...^#
                                                  <<<<<v<>>>>>>>>>^#^<<<^v<v<<<<<<<<<<>>>>>>>>>>>>^v>>>>>>>>>^#.vv..#^#^v^#^<<<<<<^<<<^#v>>>>>>>v#..^.
                                                  #>>^#v..^....v##^<<<<<^vvv.^...v..#.^..#.^......^v..^.#^v<vv<<<<..#^.^v^.v#^.^^.^..#v.v^.#...^v..#^<
                                                  >>>>>v>>^#...v#.#^.^..^vvv#^<<<<.#v<^<<<>^>>>>>>^v>>v#.^>vvv#.v#...^.^v^.v#^#^^<^<<<v<v^<<<<<<v<<<..
                                                  .^...v..v#...v.##^<<<<^vv<<#.#.#..v.^..^.^.#....^v..v##^#vvv..v....^#^<<<<<<<<<<^<<<<<<^>v#..^v..^..
                                                  <<<<<<<<<<#..v.#>>>^#.^vv#^....>>>v>^>>^>^>>>>>>^v>>>>>^#vvv..v#...^..#^.v#^.^#.^...v.#^.v...^v..^>>
                                                  >>>>>>>>>>>>>>>>>>>>>>>>>>v#...^..v.^..^.^.....#^<..#^<^<<<v.#v....^...^.v.^#^##^...v..^.v...^v..^^.
                                                  .^...^..v..v.v##^....#^v<<>>>>>>>>>>^#.^.^#.....v#..>>>^>v#v..v....^...^#v.^#^..^.#.>>>^>>>>>>v>>>^#
                                                  .^...^#.v..v.v..^.....^v#.#..#v^..#>v>>^#^###...v###^<<^<v<v..v....^.#.^.v#^.^..^#.##..^#v...^v..^.#
                                                  .^...^#.v..v.v..^....#^<<<<<<<<<<<<#v<<<<<<<>>>>>>>>>>>^>v^v>>v....^...^.v.^.^..^......^.v.##^vv<<<<
                                                  v^##.^..v#.v.v..^....#^v#.^.#^v..#^#v^.^^^.^^...v....#.^.v#v..v....^..#^#>>>>>>>^#...#.^#v.#..vv.^..
                                                  v....^..v#.>>>>>>>>>>>^<<#^<<^<...#>v^#^^<<<^<<<v<<<<>>^>>>v<<<<<<<<<<<<<#.^.^..^......^.v<v#.vv.^##
                                                  v<<<<<<<<<.#.>>>^#....vv..v..^#...>>v>>>^^#^^<<<v<<<<^<^<v<v<<v....^.#.^v.#^.^..^#.....^.v.v..vv.^..
                                                  v#.#.^#.v^............vv..v.#^<<<<<<<#.#^..#^..#vv#..^.^.v.v..v..#.^...^v.#^.^..^......^.v.v..vv.^..
                                                  v....^#.v^....#..#....vv..v......#^.#v<<^<<<<<<<v>>>>^#^.v.v..v....^..#^<<<^#>>>^>>>>>>^>>>v>>vv>^#.
                                                  v>>>>>>>>^#......>>>>>vv>>>>>>v...^..v..^...^..^vv..#^.^#v.v.#>>>>>^>>>^#.^.##..^......^.#.v.#vv....
                                                  v#.#.^.#>>v......^....vv..>>>>v>>>^..v.#^...^.#^>v##.^#^<>>v>>>>>>>^>>>^>>^>>>>>^>>>>>>^>>>v#.vv....
                                                  v..##^..#.v...#..^....vv.##..#v...^..v#>^>>>^>>^#v...^.#^^.v.......^...^^#^..#..^v.....^.^#v..vv....
                                                  v....##...v#..#..^....vv......v...^#.v.^^...^.#^.v...^.#^<<<#......^..#^>>^>>>>>^>v#...^#v<<.#vv...#
                                                  v...##....v>>>>>>^##..vv....##v...^..v.^^...^.#^.v...^..v#.#..#....^...#^<^<<<<<^<>>>>>^>v#...vv....
                                                  v.........v^.......>>>vv>>>>>>v>>>^v#v.^^.##^<<^<<<<<^<<v......#...^#.####^....#^###...^#v...#vv....
                                                  v.......#.v^...#..#^<<vv......v###^>>>>>^#v.^..^.v..#^<<v<<<<<<>>>>>>>>>>>v#....#..#...^.v....vv.#..
                                                  >>>>>>>>>>>>>>>>>>>>>>vv....#.v..>^#.##...>>^>>^>>v#>>>>v>>>>>>^>>>>>v#^.^v#..........#^<<<<<<v<....
                                                  #....#....v^..........vv......v#.^........^.^..^.vv.#..^v#.....^>>>^>v>^#^v..............v....v##...
                                                  ...#..#.##v^.......#..vv..#...v..^........^.^.#^.v>>>v#^v<.....^.#.^.v.##v<.#............v....v#v<<<
                                                  ...##.#v<<<<<<<<<<<<<<<v......v..^..#...#.^.^.#^.v#..v.#v^#....^#..^.v..#v#....#.#v<<<<<<<<<<<<<v...
                                                  .......v>>>^#........##>>>>>>>>v.^........^#^<<^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>vv#..v^v...
                                                  ##.....v#^<.#..........##v<<<<<<.^........^.^..^.v...v..v^.....^...^#v#.#v...............vv#..>^v#.#
                                                  .......v........#........>>v#.v#.^...#v<<<^<^<<^<<#..v..v^#....^<<<<<<...v...#..........#vv...#^v...
                                                  ....#..v......#...#......#.v..v.#^<<<<<.#.^.^..^.#v<<<..v^>v#..^...^.#.#.v.#....#....#.##vv#...^v..#
                                                  ...#...v...................v..v.v#....#...^.^..^..v#.#v<v^^v<..^.##^<<<<<v<>>>>>>>>>>>>>>>>>>>>^v<<<
                                                  .......v.....#....#........v..v.v......#..^#^<<^<<
                                                  .......v...................v.>v.v.....#...^.v..^..
                                                  ....#..v..#................v.^v.v#.......#^.v..^..
                                                  .......v...................v.^v.v.........^.v..^..
                                                  .#.....v.....#.............v.^v#v<<<<<<<<<^<v<<^<<
                                                  .....#.v...................v.^v.v..#.###.#^#v..^..
                                                  .......v....#.......##.....v.^v.v.....>v#v<<<<<^<<
                                                  ...#..#v...................v.^v.v.....^>>v^>v>>^>>
                                                  .......v..................#v.^v.v.....^#.v^.>>>^>>
                                                  .......v...................v.^v.v.....^.#v^.#.#^<<
                                                  ..#....v.#............#v<<<v<<<.v.....^..v^.>>>^>>
                                                  .......v...#...........v..#v.^#.v.....^#vv>>>>v^..
                                                  .....#vv<<<<<<<<<<<<<<<v<<<v.^..v.....^.vv^.^.v^..
                                                  ....#.vv...............v..^v.^..>>>>>>^>vv^>>>>^>>
                                                  ..#...vv...........#..#v.#^>>>>v#..#..^.vv^.^.#^#.
                                                  ..>>>>>v>v#......##....v>>^#.^.v...#..^.vv^.^.#^..
                                                  <<<<<<<<<<<<<<<<<<<...#v.....^.v......^.vv^.^..^..
                                                  ..^...vv#v...^....^...#v.....^#v......^.vv^#^<<^<<
                                                  .#^...vv.v...^....^.#..v....#^.v......^.vv^..##^..
                                                  .#v<<<<<.v...^....^....v....#^.v......^.vv^...#^..
                                                  ..v...##.v#..^....^....v.#...^.>>>>>>>>>>>>>>>>^#.
                                                  #.v.#....>>>>^#...^....v..#.#^.#......^#vv^<<<<v<<
                                                  ..v......#.......#^....v.....^......#.^.vv^....v^.
                                                  ..v...#......v<<<>^#...v.....^......>>^>vvv<<<<<<<
                                                  #.v.........#v...^.....v.....^......^.^.v>v#...v^.
                                                  ..v..........v...^....#v.....^......^.^.v#>>>>>>>>
                                                  <<<#.........v..#^.#..#v#....^....#.^.^.v.#....#^.
                                                  ..#>>>>>>>>>>v>>>^#....v.#...^......^.^.v...#...^.
                                                  ..#^......#..v...^.....v.##..^###...^.^.v.#.....^.
                                                  .#.^........#v...^..#..v.....^......^#^.v..#....^.
                                                  ...^..#...#..v..#^.#.##v.....^......^.^.v.......^.
                                                  <<<<<<<#.#...v##>^>>>>>>>>>v.^......^.^.v.#...#.^#
                                                  #.....^>>>>v#>>>^^>>>>>v#..v.^..#...^#^.v......##.
                                                  ...##.^^#^.v.#..^^..#..v...v#^<<<<<<<<^<<...#.....
                                                  #.....^^.^.v.#..^^<<<<<<<<<<<.#.#...^...#.....##..
                                                  >>>>>>^^>^#v....^....#.v#..v^.#....#^..#.#.....#..
                                                  <<<<<<^^<<<v<<<<^<<<<<<v<<<v^<<<<<..^.............
                                                  >>>>>>^^...v....^..#v<.v...v^...#^..^........#..#.
                                                  ......#^.#.v....^..>>>>>>>>>^#...^#.^.##...#....>>
                                                  .#..#..^...v.#..^.#^<^.v...^v....^.#^..##.v<<<<<^<
                                                  .......^...v....^...#^<<<<<<<#.#.^..^<<<<<v<<<<<^<
                                                  ..#..>>^>>vv#...^....#.v...^#>>>>^>>>>>>>>>>>>>>^>
                                                  ..#..^.^..vv....^......v...^#.#.#^.......##.....^.
                                                  ..#..^.^..>v>>>>^..#.#>>v#.^...#.^.........#...#^.
                                                  .....^.^...v..........##v..^.....^#.#...........^.
                                                  #....^.^##.v..#...#.#...v.#v<<<<<<<<<...........^.
                                                  .....^#^...v..#.........v..v.#...^..^..........#^<
                                                  ...#.^.^...v....#.......v#.v.....^..^.#......#..v#
                                                  .....^.^..#v.#.......#v<v#.v...#.^.#^.#..#...#..v.
                                                  .#...^.^...v.#.#......v.v..v#...#^<<^<<..>>>>>>>v>
..............##v.......#.v.#..v...^v^.....#v<........#^.^<<<v<<<<<<<<<<<<<<<<<<<<<<<<<#^<<^<<<<<<v<
..............#.v.........v.>>>>>>>>>>>>>>>>v^.##.....>^#....v..........v.v..^....^#..#....^......v.
..#.............v........#v.^..v...^v^......v...#v<<<<^<.#...v#.......>>>>v#.^....^........^.#...#v.
................v.#..#.#.>>>^#.v#..^v^.#....v...>v>>>>^#.....v........^.v.v..^#..#^#.....#.^......v.
....#...........v#v<<<<<<^<<<<#v<<<^v^<<<<<<v<<<<<....^......v..#.....^.v.v..^>v#.^<<<<<<<>^>>>>>>v#
................v.v...^^.^#v<<<v<<<^v^<<<<..v...^.....^...#..v.....#..^.v#v.#^^v.........^.^......v#
.......#......#.v.v...^^.^.v...v..#^v^..#^..v.#.^....#^......v....#...^.v.v..^^>>>>>>>>>>^>^#.....v>
.......>>>>>>>>>v>v#..^^.^.>>>>v>>>^>^>>v>v#v...^....>^......v...#v...^.v.v..^^#...#.#...^........v^
......#^.....#v<<<<<..^^.^.###.v...^<^<<v<<<v>>>^#.#.^.......v....v##.^.>>v>>^#>>>>>>>>>>>v#......v^
......#^....#v>>>>>>>>>v#^<<<<<<#...v^.#v<<<<...^...#^.......v....v.#.^.#.v#.^.#.....^...^v....#..v^
.......^..#..v#.##v^..^v.#.....#>>>>>^#vv<<^....^....^...#...v.#..v...^...v.#^<<<<<<<^<<<^v<<<<<..v^
.......^...#.v..#.v^#.^v#..>>>>>^#..v#vvv^#^...#^....^...#...v....v...^...v..v..v#...^..#v<<<<<<<<<^
.......^.....v....v^>>>v>>>^#.#..>>>>>v>v>>^#...^#..#^.#.....>>v#.v...^...v..v..v..#.^...v##...^#.#^
.......^.....v.#..v^^.^v.........^#.v.vvv^.^....^....^.......^.>>>>>>>>>>>>>>>>>>>>>>^<<<v<<###^...^
......#^...#.v#...v^^#^v......#..^..>>vvv^#^....^#..#^..#..#.^.#.#v...^...v..v..v..#.....v#....^...^
<<<<<<>>>>>>>>>>>>>^^#^>>>>>>>>>>>>v##vvv.#^<<<<<<<<<^<<<#.##^...#v...^...v..v..v........v.....^...^
......^^#..^.v....v^^.##v<<<<<<<<<<v<>>>v>>>>>>>v#..^^.......#....v...^##.v..v..v#####.#.v##...^#..^
..#...^^...^.v..##v^^.>>v#v<<<<<<<<<.^vvv.^.....v.##^^<<<<<<<<<<<<v<<<^<<v<<<<<<<<<<<<<<#v.....^#..^
>v#...^^#.#^#v<<<<v^^>^>v>v>v#..#^.#.^vvv.^..#.#v#...^.......#.#..v...^#vv<#....#v^<<<<<<<...#.^..#^
.v.#v<^<<<<^.v#.#v<^^#^<v^v<v...#^<<<^v<v.^.....v....^............v...^.vv#......v^...^#.#...#.^...^
<<<<<<^<<<<<<<<<<v#^<<<<<<v<<>>>>>>>>^v#v>^#.#..v..#.^..##...#....v#..^.vv.#.....v^...^..#.....^...^
.v..>>^>>>>^##v<<<<<<<<<<<<.#....##v<^v<v^#.....v....^.#v>>>>>>>>>>>>>>>>v>>>>>>>v^>>>>>>>>>>>>>>>>^
.v..##^^<<^<<<v<^v<^^<<<<^#..#v<<<<<<<<<<<<.#...v...#^.>>^>>>>>>>>>>>>>>>v#^.#...v^..#^........^v..^
.v.#..^^....##v.^>>^^^..#^>>>>>>>>>>>>>>>>v#....v.#..^.^v^...^....v.#>^>vv<^<>>>>>^>>>>>>>>>>>>>>>>^
<<<<<<<<<<<<<>>>>>>>>v#..^^..##....v.^v.#.v.....v....^#^<^<<<<<<<<<<<#^.vv.^.^#..v^#.^^.......#vv..v
>>>^>>^v#...^^v#^^<^^>>>>>^#.......v.^v...v.....v..##^.v#^#..^#...v#..^.vv.^.^...v^v#^<<<<<<<<<<v<<v
..#^.#^<....^^v>>>>^^#...^.#.....#.v.^v..#>>>>>>>>>>>>>v#^<..^....v.#.^.vv.^#^<<<<^<<#^#.......#v..v
<<<^..^#...#^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<#.....v.#v<^<v<.^..^....v...^#vv.^.v...#^v^.^.#.......v#.v
..^^..^....>v^#^<^#^>^...^...#..#.#^#v<..^......v..v...v^.^..^....v#..^.vv.^>>v##>^>>>^>>>>>>>>>>>>>
>>^^>>^>>v#^>>>^##.^#^...^..#....#v<<>>>>^#.....v..v#..v^.^..^....v..#^<vv#^<<<<<<^<#.^....#........
#.^^#.^..v#.#^<<<#v^<^...^...#....v^^#...^...#..v<<<<<.v^.^#.^....v..#..vv..^vv^..^#..^.............
.#^^..^..v...v^#^.v^.^...^........v^^..#.^......v..v.^.v^.^.#^....v.....vv..^vv^..^...^..........#v<
..^^..^.#v...>^#^<<^<^<<<^<<<.....v^>>>>>^......v..v.^.>>>^#.^#...v.....vv..^vv^.#^<<<<<<<<<<<<<<<<<
..^^#.^..v...#.v#.#^<^<<<^<<<<<<<<<<^<<<<v<<<<<<v<<<<<<<^>^.#^....v.....vv.#^vv^......^...........v.
..^^.#^.#>>>>>>v>>>^>^#..^..^....##^^...#v..#...v..v.^.#^<^<<v<<<<<<<<<<<v#v^vv^..#.#.^...........v.
..^^..^..#.....v...^.^...^..^......^^>>>>v>>>>>>v#.v.^.>>>^#.v..#.v#....v#vv<<<^>>>>>>^#...#......v.
..^^..^....#..#v<<<^<^...^..^..#...^^....v.#^...v..v#^.^^.^..v#...v.#...v>vv^##^#.^...v#..........v.
.#^^<<^##.....#v<<<^#^<<<<<<<<<<#.#v^<<<<>>>>>>>>>>>>>>^^#^>>>>>>>>>>>>>>>>>>>>v<#^<<<<<<<<<<<<<<<v<
>>>^>v##...#.#.v...^#v...^..^..^..#v^.#.....^.###..v.^.^..#..v..##v..#..v^vvv..vv.^...v.#.#.......v#
..^^.vv#..#v<>>v>>>^>v>>>^>>>>>^>>>>^>>>>>>>v#....#v.^#^....#v<<<<v<<<<<>>>>v>>v>>>>>>>>>>v....#..v.
.#^^#vv....v.^.v#..^.v...^..^.#^...#^<<<<<<<>>>>>>>>>>>^#...#v....v#....#^#vv..vv.^.#.v...v.#.....>>
..^^.vv#...v.^.v#.#^#v..#^..^..^.#..^.#.....#..#...v.^.^<<<<<<#...v#.....^.vv..vv.^.#.v...v.........
..^^.vv....v#^<v<<<..v...^..^..^...#^<<<<<<<<<<<...v.^.^.....#.#.#v<<<<<<<<<v<<v<<<<<<<<<<<....##...
..^^.vv....v.^.v#.^#.v..#^<<<<<^<<<<^.......#..^...v.^.^......#.#.v......^<vv<<v<.^...v...#.....>>>>
..^^>vv>>>vv#v<<<>>>>v>>>>>>>>>^#..^^#...#..#..^...v#^<^<<<<<<<<v<<<<<<<<<<<<>>v^#^...v.........^.#.
..^^^>>>>>>>>vv#^.^.#v...v.#^..^...^#..#.......^...v.v.^......^.v.#...>>>>>v#..v^##...v##.#.....^#..
#.^^^#>>>>>>>vv>^>>>>v>>>>>>>>>^>>>^>>>v<<<<<<<^<<<<<<.^......^.v.....#...#v.#.v^.....v........#^<..
.#^^<.#...vv.vv^^....v..#v..^..^##.^.#.v...v.#.^...v.##^#....#^.v..........v#..v^.....v.......#..^..
...^^....#vv#vv^^#...v...v.#^#.^.#.^...v..#v...^.#.>v#.^.....>^>v>v##.#....v...v^.....v#.........^..
<#.^^.#.#.vv.vv^^..#.v...v#.^#.^...^..#>>>>>>>>^>>>^v#.^.....^^.v.v....##..v.#.v^...##v.#.....#..^..
#..^^...#.vv.>>>>>v..v...v..^..^.#.^...#..##..#^..
...^^#....vv.#>>^#>>>>v#.v..^..^..#^..........>^>>
..#^<<<<<<<<<<#^..#..vv..v.#^..^...^.......#v<^^<<
.#.#^.....vv#^<<<<<<<<<<<<<<<<.^...^....#...v.^.>v
<>>>^##v<<<>>>>>>>>>>>v>>>>>>^>^>>>v#.....#.v.^.#v
>^vv##.v#.v#^<<<<<<<<<v<<<>>^^.^...v>v#.....v#^<>>
#^<v<<>v>>v>>v>>>>>v##v..#...^.^...v^v......v##.^v
<^<v<^<v<<v<<v<<<<<<<#v#..#..^.^...v^v......v.#.^v
.^vv.^.v..v..v#..#.#v<v.#....^#^<<<<<<.#....v.##^v
<^vv#^<<..v#.v......>vv......^.^...v^##..#..v...^v
.^vv.^.#..v..v......#vv.##...^.^#..v^#......v##.^v
.^vv.^.##.>>>v>>>>>>>vv#>>>>v^<<<<<<<<<<#..#>>>>^>
.^vv.^....#.#v#......v>>>^#.v^#^...v^..#....#...^>
.^vv.^#v<<>>>>v###...vv.....v^.^...v^.#.....#...^#
<<<<<<<<<<^<<<v<<<>>>vv....#>^#^.#v<^<<<<<<<<#v<^<
#^#v.^.v..^..vv^.^#v<vv###..##.^..v#^#^...#.^.v.^^
<^>>>>>v<<^<<vv^<^>>>>>v#...v<<<<<<.^.^....#^<<#^<
#>>>>>>>>>^>>vv^#^^#.vvv....v..^....^.^.....v.#.^^
v#^v.^.#..^..vv..^^.#v<v....v..^....^.^.....v...^^
v.^v.^....^..vv##^^<<v#v....v..^#...^.^.....v...^^
v.^>>>>>v#^<<<v<<<^<^<>v>>>>v>>^#...^.^.....>>v.^^
v.^#v<<<<<<<#vv^.^^.^#.v....v..^....^.^.#..##.v.^^
v.^.v^..v^.#v<>>>>>>>>>>>>>>>>>>>>>>^#^.>>>>>>v>^^
<<<<<<<>>^>>v^#^<<<<<<<v....v..^.#....^.^#....v.^.
v#^<v<^<<^>>v^>>>>^>^>^v>>>>v>>^#.#.#.^.^.....v.^.
v<#.v^^.#^<<<^^..^^.^#^<#...v..#.....#^.^.....v.^v
v<<#v^^#v...#^^..^^.^.##....v......#..^.^.....v.^v
v.##v^^.v....^<<<<^<^<<.....v..#....##^.^...#.v.^v
v>>>v>^>v>>>>^^v#^^<^<^<<<<<v<<>>v#...^.^...##v.^v
v...v^^#v...#^>>>>^>^>^##.##v.#^.v....^.^....>>>^<
v..#v^^.v....#^<<<^<^<#v<<<<<>>^>v>>>>^>>>>>>^v>vv
v..#v^^.v.##..^v#.^.^#>v#.vv#..^.v#...^.^....^<<<v
>>>>v>^>v>>>v#^<<.^.^#^v<<<v<..^.v>>>>^>v#...^v..v
##..v#^.v...v>>>>>^>>>>v#v<<^<<^#>>>>>>>>>>>>^v<<<
.>>>v>^>v>>>v^#.^#^<<<<<<<>^^>>^<#^.#...v....^v..#
>^#.v.^>v#..v...^.#.^..v.##^^..^..^.....v....^v...
v<<<v<^<<.##v..#^<<>^##>>>>^>>>^#.^#..#v<<<<<^v<<<
>>>>>>^#....v..#^.^.^..#...#^..v..^....vv..#.^v...
v#v<<#^.....v.#>^>^>^>>>>>>>^>>>>>^#...vv....^v..#
<.v.#.#.....v.#^^.^#^...#.#.^.#>v#.....vv....^v..#
#.v.>>v##...v#.^^<^<^<<<>>>>>>v#v.##...vv....^v#..
..v.^.v....#v..^..^.^...^..#^<v<<<<<...vv....^v...
.#v.^.v...#vv<<<#.^.^...^...^.v.v##^<<<<v....^v...
#>>>>>v<#..vv.#^.#^#^...^...^.v.v..##..#v#...^v...
.##.^.v#...vv..^..^#^<<<^<<<<<v<v<<>>>>>>>>>>>>>>v
>>v#^#v....vv..^#.^....#^..#^#v<>>>^>>>>>>>>>v#.#v
.^v.^.v.#..vv..^..^.....^...^.v.#.#^...^v....v...v
.^v.^.v....vv#.^..^#....^...^.v....^.#>^>>>>>v>>>v
>>>>>>>>>>>>>>>>>>v##...^...^.v#v<<^<<#^#....v..#v
.^v.#.#...##v#.^..v.>>>>^#..^.v.v..^.^#^....#v...v
```
